from django import forms
from wagtailhyper.forms import HyperForm
from django.contrib import messages

class ContactForm(HyperForm):
    name = forms.CharField(max_length=255)
    company_name = forms.CharField(max_length=255, required=False)
    phone = forms.CharField(max_length=25)
    email = forms.EmailField()
    country = forms.CharField(max_length=20)
    message = forms.CharField(widget=forms.Textarea)

    def is_valid(self):
        valid = super().is_valid()
        if valid:
            messages.success(self.request, 'Successfully Submitted')
        return valid
