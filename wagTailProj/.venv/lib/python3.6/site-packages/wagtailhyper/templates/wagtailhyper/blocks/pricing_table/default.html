{% load hyper_tags %}
<style>
    .pAttr {
        width: 250px;
        align-self: center;
    }
    .pItem {
        width: 200px;
        border-right: 1px solid #eee;
        border-left: 1px solid #eee;
        text-align: center;
        height: 100%;
        align-self: center;
        height: 40px;
        margin-right: 20px;
    }
    .pItem.attr1 {
        font-size: 2em;
        color: green;
        height: 60px;
    }
    .pItem.attr1 small {
        font-size: 12px;
        color: #888;
    }
    .pItem.last {
        border-bottom: 1px solid #eee;
        height: 1px;
    }
    .pAttr.last {
        height: 1px;
    }
    .pItemTitle {
        font-size: 1.5em;
        height: 50px;
        border-top: 1px solid #eee
    }
</style>

{% if obj.settings.pricingTable %}
<section id="{{ obj.id }}">
    <div class="d-flex flex-row justify-content-center">
        <div class="pAttr"></div>
        {% for item in obj.settings.pricingTable.items %}
            <div class="pItem pItemTitle">{{ item.title }}</div>
        {% endfor %}
    </div>

    {% for group in obj.settings.pricingTable.schemaValue.groups %}

        {% for attr in group.attrs %}
        <div class="d-flex flex-row justify-content-center">
            <div class="pAttr">{{ attr.title }}</div>
            {% for item in obj.settings.pricingTable.items %}
                <div class="pItem attr{{ forloop.parentloop.parentloop.counter }}">{{ item|dynamic_var:attr.id|safe }}</div>
            {% endfor %}
        </div>
        {% endfor %}
    {% endfor %}

    <div class="d-flex flex-row justify-content-center">
        <div class="pAttr last"></div>
        {% for item in obj.settings.pricingTable.items %}
            <div class="pItem last"></div>
        {% endfor %}
    </div>
</section>
{% endif %}